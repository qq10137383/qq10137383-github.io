import{_ as a,M as c,p as s,q as u,R as e,t as l,N as o,V as t,a1 as d}from"./framework-96b046e1.js";const r="/images/configuration/subsystem-config.jpg",h="/images/configuration/subsystem-icon.jpg",p="/images/configuration/subsystem-menu-config.jpg",_="/images/configuration/subsystem-menu-name.jpg",m="/images/configuration/subsystem-menu-icon.jpg",E="/images/configuration/mainsystem-env.jpg",g="/images/configuration/subsystem-env.jpg",v={},f=d('<h1 id="配置项参考" tabindex="-1"><a class="header-anchor" href="#配置项参考" aria-hidden="true">#</a> 配置项参考</h1><h2 id="子系统扩展配置" tabindex="-1"><a class="header-anchor" href="#子系统扩展配置" aria-hidden="true">#</a> 子系统扩展配置</h2><p>包括子系统icon、开发环境、生产环境等扩展配置，配置为后台管理配置，如图：</p><p><img src="'+r+'" alt="子系统配置"></p><h3 id="devport" tabindex="-1"><a class="header-anchor" href="#devport" aria-hidden="true">#</a> devPort</h3><ul><li><p>类型：<code>Number</code></p></li><li><p>默认值：<code>10000</code> ，不配置默认从 <code>10000</code> 开始，多个子系统会按加载顺序以 <code>1</code> 自增</p></li><li><p>必填：<code>是</code></p></li><li><p>描述：<code>开发环境(dev)</code> 模式下，主项目加载子系统时的 <code>端口号</code>，主项目使用下面规则来生成子项目地址 <code>devUrl</code> ： <code>http://localhost:${devPort}/</code> ， 例如： <code>白蚁防治</code> 子系统配置为 <code>9003</code>, 则子系统加载地址为：<code>http://localhost:9003/</code>。</p></li></ul>',6),A={class:"custom-container warning"},B=e("p",{class:"custom-container-title"},"WARNING",-1),b=e("code",null,"zhfc-cli",-1),x=e("code",null,"启动端口",-1),P=d('<h3 id="produrl" tabindex="-1"><a class="header-anchor" href="#produrl" aria-hidden="true">#</a> prodUrl</h3><ul><li><p>类型：<code>String</code></p></li><li><p>默认值：<code>&quot;&quot;</code></p></li><li><p>必填：<code>是</code></p></li><li><p>描述：<code>线上环境(prod或stage)</code> 模式下，主项目加载子系统时的项目地址 <code>prodUrl</code>，此值相对于 <code>devPort</code>，<code>dev</code> 模式不需要配置完整的地址(<code>ip为localhost</code>)，只需配置端口号。</p></li></ul>',2),D={class:"custom-container warning"},q=e("p",{class:"custom-container-title"},"WARNING",-1),y=e("code",null,"步骤五",-1),S=d('<h3 id="icon" tabindex="-1"><a class="header-anchor" href="#icon" aria-hidden="true">#</a> icon</h3><ul><li><p>类型：<code>String</code></p></li><li><p>默认值：<code>&quot;guide&quot;</code></p></li><li><p>必填：<code>否</code></p></li><li><p>描述：显示在主项目系统切换栏子系统图标，如图：</p></li></ul><p><img src="'+h+'" alt="子系统图标"></p><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>icon 格式为 <code>svg</code> 。</li><li>配置 <code>icon</code> 后，需要在主项目 <code>src/icons/svg</code> 目录增加同名称图标，否则子系统图标会显示显示空白。</li></ol></div><h2 id="子系统菜单扩展配置" tabindex="-1"><a class="header-anchor" href="#子系统菜单扩展配置" aria-hidden="true">#</a> 子系统菜单扩展配置</h2><p>包括子系统菜单icon、name、hidden等扩展配置，配置为后台管理配置，如图：</p><p><img src="'+p+'" alt="子系统配置"></p><h3 id="name" tabindex="-1"><a class="header-anchor" href="#name" aria-hidden="true">#</a> name</h3><ul><li><p>类型：<code>String</code></p></li><li><p>默认值：<code>&quot;&quot;</code></p></li><li><p>必填：<code>是</code></p></li><li><p>描述：菜单项名称。</p></li></ul><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>此值必须要配置。此值和菜单地址对应子系统路由的 <code>name</code> 属性 以及路由对应组件的 <code>name</code> 属性三者保持一致，否则会导致组件缓存失败，切换页签时页面刷新表单已填内容丢失。</p></div><p><img src="'+_+'" alt="子菜单name"></p><h3 id="icon-1" tabindex="-1"><a class="header-anchor" href="#icon-1" aria-hidden="true">#</a> icon</h3><ul><li><p>类型：<code>String</code></p></li><li><p>默认值：菜单组为 <code>&quot;list&quot;</code> 菜单项为 <code>&quot;component&quot;</code></p></li><li><p>必填：<code>否</code></p></li><li><p>描述：显示在主项目菜单栏菜单项图标，如图：</p></li></ul><p><img src="'+m+'" alt="子系统图标"></p><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>icon 格式为 <code>svg</code> 或者 <code>el-icon-x element-ui</code> 的 <code>icon</code> 。</li><li>如果icon为 <code>svg</code>，配置 <code>icon</code> 后需要在主项目 <code>src/icons/svg</code> 目录增加同名称图标，否则菜单项图标会显示显示空白。</li></ol></div><h3 id="hidden" tabindex="-1"><a class="header-anchor" href="#hidden" aria-hidden="true">#</a> hidden</h3>',16),k=e("li",null,[e("p",null,[l("类型："),e("code",null,"Boolean")])],-1),I=e("li",null,[e("p",null,[l("默认值："),e("code",null,"false")])],-1),N=e("li",null,[e("p",null,[l("必填："),e("code",null,"否")])],-1),j=e("code",null,"true",-1),V={href:"https://panjiachen.gitee.io/vue-element-admin-site/zh/guide/essentials/router-and-nav.html#%E9%85%8D%E7%BD%AE%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},z=e("code",null,"hidden",-1),w=e("h3",{id:"redirect",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#redirect","aria-hidden":"true"},"#"),l(" redirect")],-1),U=e("li",null,[e("p",null,[l("类型："),e("code",null,"String")])],-1),R=e("li",null,[e("p",null,[l("默认值："),e("code",null,'""')])],-1),M=e("li",null,[e("p",null,[l("必填："),e("code",null,"否")])],-1),T=e("code",null,"noRedirect",-1),L={href:"https://panjiachen.gitee.io/vue-element-admin-site/zh/guide/essentials/router-and-nav.html#%E9%85%8D%E7%BD%AE%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},C=e("code",null,"redirect",-1),F=e("h3",{id:"alwaysshow",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#alwaysshow","aria-hidden":"true"},"#"),l(" alwaysShow")],-1),O=e("li",null,[e("p",null,[l("类型："),e("code",null,"Boolean")])],-1),G=e("li",null,[e("p",null,[l("默认值：菜单组为 "),e("code",null,"true"),l(" , 菜单项为 "),e("code",null,"false")])],-1),K=e("li",null,[e("p",null,[l("必填："),e("code",null,"否")])],-1),W={href:"https://panjiachen.gitee.io/vue-element-admin-site/zh/guide/essentials/router-and-nav.html#%E9%85%8D%E7%BD%AE%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},Y=e("code",null,"alwaysShow",-1),H=e("h3",{id:"roles",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#roles","aria-hidden":"true"},"#"),l(" roles")],-1),Z=e("li",null,[e("p",null,[l("类型："),e("code",null,"Array")])],-1),$=e("li",null,[e("p",null,[l("默认值："),e("code",null,"[]")])],-1),J=e("li",null,[e("p",null,[l("必填："),e("code",null,"否")])],-1),Q={href:"https://panjiachen.gitee.io/vue-element-admin-site/zh/guide/essentials/router-and-nav.html#%E9%85%8D%E7%BD%AE%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},X=e("code",null,"meta.roles",-1),ee=e("h3",{id:"nocache",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#nocache","aria-hidden":"true"},"#"),l(" noCache")],-1),le=e("li",null,[e("p",null,[l("类型："),e("code",null,"Boolean")])],-1),oe=e("li",null,[e("p",null,[l("默认值："),e("code",null,"false")])],-1),ne=e("li",null,[e("p",null,[l("必填："),e("code",null,"否")])],-1),ie=e("code",null,"true",-1),te={href:"https://panjiachen.gitee.io/vue-element-admin-site/zh/guide/essentials/router-and-nav.html#%E9%85%8D%E7%BD%AE%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},de=e("code",null,"meta.noCache",-1),ce=e("h3",{id:"breadcrumb",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#breadcrumb","aria-hidden":"true"},"#"),l(" breadcrumb")],-1),ae=e("li",null,[e("p",null,[l("类型："),e("code",null,"Boolean")])],-1),se=e("li",null,[e("p",null,[l("默认值："),e("code",null,"true")])],-1),ue=e("li",null,[e("p",null,[l("必填："),e("code",null,"否")])],-1),re=e("code",null,"false",-1),he={href:"https://panjiachen.gitee.io/vue-element-admin-site/zh/guide/essentials/router-and-nav.html#%E9%85%8D%E7%BD%AE%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},pe=e("code",null,"meta.breadcrumb",-1),_e=e("h3",{id:"affix",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#affix","aria-hidden":"true"},"#"),l(" affix")],-1),me=e("li",null,[e("p",null,[l("类型："),e("code",null,"Boolean")])],-1),Ee=e("li",null,[e("p",null,[l("默认值："),e("code",null,"false")])],-1),ge=e("li",null,[e("p",null,[l("必填："),e("code",null,"否")])],-1),ve=e("code",null,"true",-1),fe={href:"https://panjiachen.gitee.io/vue-element-admin-site/zh/guide/essentials/router-and-nav.html#%E9%85%8D%E7%BD%AE%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},Ae=e("code",null,"meta.affix",-1),Be=e("h3",{id:"activemenu",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#activemenu","aria-hidden":"true"},"#"),l(" activeMenu")],-1),be=e("li",null,[e("p",null,[l("类型："),e("code",null,"String")])],-1),xe=e("li",null,[e("p",null,[l("默认值："),e("code",null,'""')])],-1),Pe=e("li",null,[e("p",null,[l("必填："),e("code",null,"否")])],-1),De={href:"https://panjiachen.gitee.io/vue-element-admin-site/zh/guide/essentials/router-and-nav.html#%E9%85%8D%E7%BD%AE%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},qe=e("code",null,"meta.activeMenu",-1),ye=d('<h2 id="主项目-env-配置" tabindex="-1"><a class="header-anchor" href="#主项目-env-配置" aria-hidden="true">#</a> 主项目 <code>.env</code> 配置</h2><p>包括主项目服务地址、应用名、微前端参数等配置，如图：</p><p><img src="'+E+'" alt="主项目.env"></p><h3 id="vue-app-base-api" tabindex="-1"><a class="header-anchor" href="#vue-app-base-api" aria-hidden="true">#</a> VUE_APP_BASE_API</h3><ul><li><p>类型：<code>String</code></p></li><li><p>默认值：<code>&quot;&quot;</code></p></li><li><p>必填：<code>是</code></p></li><li><p>描述：主项目后台服务基地址。</p></li></ul><h3 id="vue-app-name" tabindex="-1"><a class="header-anchor" href="#vue-app-name" aria-hidden="true">#</a> VUE_APP_NAME</h3>',6),Se=e("li",null,[e("p",null,[l("类型："),e("code",null,"String")])],-1),ke=e("li",null,[e("p",null,[l("默认值："),e("code",null,'""')])],-1),Ie=e("li",null,[e("p",null,[l("必填："),e("code",null,"是")])],-1),Ne=e("code",null,"zhfc-cli",-1),je=e("code",null,"应用名",-1),Ve=d('<h3 id="vue-app-element-size" tabindex="-1"><a class="header-anchor" href="#vue-app-element-size" aria-hidden="true">#</a> VUE_APP_ELEMENT_SIZE</h3><ul><li><p>类型：<code>String</code></p></li><li><p>默认值：<code>&quot;small&quot;</code></p></li><li><p>必填：<code>是</code></p></li><li><p>描述：主项目 <code>element-ui</code> 组件 <code>size</code> ，如果子项目也是 <code>vue + element-ui</code> ，子项目将继承此配置。</p></li></ul><h3 id="vue-app-micro-prefetch" tabindex="-1"><a class="header-anchor" href="#vue-app-micro-prefetch" aria-hidden="true">#</a> VUE_APP_MICRO_PREFETCH</h3><ul><li><p>类型：<code>Boolean</code></p></li><li><p>默认值：开发环境为 <code>false</code> ， 线上环境 (prod或stage) 为 <code>true</code></p></li><li><p>必填：<code>是</code></p></li><li><p>描述：微前端是否启用预加载，配置为 <code>true</code> 则会在第一个微应用 mount 完成后开始预加载其他微应用的静态资源，线上环境可开启选项优化子项目加载速度。</p></li></ul><h3 id="vue-app-micro-style-isolation" tabindex="-1"><a class="header-anchor" href="#vue-app-micro-style-isolation" aria-hidden="true">#</a> VUE_APP_MICRO_STYLE_ISOLATION</h3>',5),ze=e("li",null,[e("p",null,[l("类型："),e("code",null,"Boolean")])],-1),we=e("li",null,[e("p",null,[l("默认值："),e("code",null,"true")])],-1),Ue=e("li",null,[e("p",null,[l("必填："),e("code",null,"是")])],-1),Re=e("code",null,"true",-1),Me=e("code",null,"样式隔离",-1),Te=d('<div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>由于 <code>shadow dom</code> 方式的样式隔离存在一些技术问题，项目中都是使用增加应用名前缀方式。</li><li>增加应用名前缀的样式隔离同样存在局限性，对于增加到子应用外的 <code>dom</code> 节点样式会失效，例如：<code>el-dialog</code>、<code>el-select</code> 等组件会将弹出内容添加到 <code>body</code> 节点下，而不是在子应用挂载节点下，样式隔离会失效，修改子应用中这些组件样式时应注意！</li></ol></div><h3 id="vue-app-micro-keep-alive" tabindex="-1"><a class="header-anchor" href="#vue-app-micro-keep-alive" aria-hidden="true">#</a> VUE_APP_MICRO_KEEP_ALIVE</h3>',2),Le=e("li",null,[e("p",null,[l("类型："),e("code",null,"Boolean")])],-1),Ce=e("li",null,[e("p",null,[l("默认值："),e("code",null,"true")])],-1),Fe=e("li",null,[e("p",null,[l("必填："),e("code",null,"是")])],-1),Oe=e("code",null,"KeepAlive",-1),Ge=e("code",null,"true",-1),Ke=e("code",null,"unmount",-1),We=e("code",null,"dom",-1),Ye=d('<div class="custom-container tip"><p class="custom-container-title">TIP</p><p><code>qiankun</code> 框架本身是不支持 <code>KeepAlive</code> 模式的，为了解决子系统之间切换页签缓存问题，对 <code>qiankun</code> 框架进行了修改，项目中使用的 <code>qiankun-dhcc</code> 增加了此功能。</p></div><h2 id="子项目-env-配置" tabindex="-1"><a class="header-anchor" href="#子项目-env-配置" aria-hidden="true">#</a> 子项目 <code>.env</code> 配置</h2><p>包括子项目服务地址、应用名、部署参数等配置，如图：</p><p><img src="'+g+'" alt="子项目.env"></p><h3 id="vue-app-base-api-1" tabindex="-1"><a class="header-anchor" href="#vue-app-base-api-1" aria-hidden="true">#</a> VUE_APP_BASE_API</h3><ul><li><p>类型：<code>String</code></p></li><li><p>默认值：<code>&quot;&quot;</code></p></li><li><p>必填：<code>是</code></p></li><li><p>描述：子项目后台服务基地址。</p></li></ul><h3 id="vue-app-name-1" tabindex="-1"><a class="header-anchor" href="#vue-app-name-1" aria-hidden="true">#</a> VUE_APP_NAME</h3>',7),He=e("li",null,[e("p",null,[l("类型："),e("code",null,"String")])],-1),Ze=e("li",null,[e("p",null,[l("默认值："),e("code",null,'""')])],-1),$e=e("li",null,[e("p",null,[l("必填："),e("code",null,"是")])],-1),Je=e("code",null,"zhfc-cli",-1),Qe=e("code",null,"应用名",-1),Xe=e("h3",{id:"vue-app-deploy-mode",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#vue-app-deploy-mode","aria-hidden":"true"},"#"),l(" VUE_APP_DEPLOY_MODE")],-1),el=e("li",null,[e("p",null,[l("类型："),e("code",null,"String")])],-1),ll=e("li",null,[e("p",null,[l("默认值："),e("code",null,'"2"')])],-1),ol=e("li",null,[e("p",null,[l("必填："),e("code",null,"是")])],-1),nl=e("div",{class:"custom-container tip"},[e("p",{class:"custom-container-title"},"TIP"),e("p",null,[l("开发模式配置文件 "),e("code",null,".env.development.xxx"),l(" 不存在此配置，仅线上环境配置文件有效。")])],-1);function il(tl,dl){const n=c("RouterLink"),i=c("ExternalLinkIcon");return s(),u("div",null,[f,e("div",A,[B,e("p",null,[l("此值必须要配置，而且需要配置为 "),b,l(),o(n,{to:"/guide/getting-started.html#%E7%94%9F%E6%88%90%E5%AD%90%E9%A1%B9%E7%9B%AE"},{default:t(()=>[l("创建子系统")]),_:1}),l(" 时使用的 "),x,l("，不配置虽然有默认值，但是由于子系统加载顺序的不确定性，每次端口可能会不一致导致子系统加载失败！")])]),P,e("div",D,[q,e("p",null,[l("此值必须要配置，而且需要配置为 "),o(n,{to:"/guide/deploy.md/#%E5%AD%90%E8%B7%AF%E5%BE%84%E9%83%A8%E7%BD%B2"},{default:t(()=>[l("部署")]),_:1}),l(),y,l(" 的子系统地址，否则线上环境子系统加载失败！")])]),S,e("ul",null,[k,I,N,e("li",null,[e("p",null,[l("描述：菜单是否显示在主项目菜单栏，设置为 "),j,l(" 后在菜单栏不可见，但对应的路由地址依然是可用的，如401，login等页面，或者如一些编辑页面/edit/1。 参考 "),e("a",V,[l("vue-admin-template->路由和侧边栏"),o(i)]),l(),z,l(" 属性。")])])]),w,e("ul",null,[U,R,M,e("li",null,[e("p",null,[l("描述：点击主项目面包屑路由时的重定向地址，当设置 "),T,l(" 的时候该路由在面包屑导航中不可被点击，参考 "),e("a",L,[l("vue-admin-template->路由和侧边栏"),o(i)]),l(),C,l(" 属性。")])])]),F,e("ul",null,[O,G,K,e("li",null,[e("p",null,[l("描述：此配置仅对菜单组起作用，当菜单组只有一个子菜单项时是否显示菜单组，参考 "),e("a",W,[l("vue-admin-template->路由和侧边栏"),o(i)]),l(),Y,l(" 属性。")])])]),H,e("ul",null,[Z,$,J,e("li",null,[e("p",null,[l("描述：设置该路由进入的权限，支持多个权限叠加，参考 "),e("a",Q,[l("vue-admin-template->路由和侧边栏"),o(i)]),l(),X,l(" 属性。")])])]),ee,e("ul",null,[le,oe,ne,e("li",null,[e("p",null,[l("描述：如果设置为 "),ie,l(" 则不会缓存页面，切换页签后页面会刷新，参考 "),e("a",te,[l("vue-admin-template->路由和侧边栏"),o(i)]),l(),de,l(" 属性。")])])]),ce,e("ul",null,[ae,se,ue,e("li",null,[e("p",null,[l("描述：如果设置为 "),re,l(" 则菜单对应页面不会出现在主项目面包屑导航中，参考 "),e("a",he,[l("vue-admin-template->路由和侧边栏"),o(i)]),l(),pe,l(" 属性。")])])]),_e,e("ul",null,[me,Ee,ge,e("li",null,[e("p",null,[l("描述：如果设置为 "),ve,l(" 则菜单对应页面会固定在页签左侧，不能关闭，参考 "),e("a",fe,[l("vue-admin-template->路由和侧边栏"),o(i)]),l(),Ae,l(" 属性。")])])]),Be,e("ul",null,[be,xe,Pe,e("li",null,[e("p",null,[l("描述：路由被匹配时，激活的菜单项地址，参考 "),e("a",De,[l("vue-admin-template->路由和侧边栏"),o(i)]),l(),qe,l(" 属性。")])])]),ye,e("ul",null,[Se,ke,Ie,e("li",null,[e("p",null,[l("描述：主项目应用名，值为 "),Ne,l(),o(n,{to:"/guide/getting-started.html#%E7%94%9F%E6%88%90%E4%B8%BB%E9%A1%B9%E7%9B%AE"},{default:t(()=>[l("生成主项目")]),_:1}),l(" 的 "),je,l("。")])])]),Ve,e("ul",null,[ze,we,Ue,e("li",null,[e("p",null,[l("描述：微前端是否启用样式隔离，配置为 "),Re,l(" 时子应用样式会自动增加微前端应用名前缀，参考 "),o(n,{to:"/guide/intro.html#%E9%9A%94%E7%A6%BB%E6%B2%99%E7%AE%B1"},{default:t(()=>[l("隔离沙箱")]),_:1}),l(" 中 "),Me])])]),Te,e("ul",null,[Le,Ce,Fe,e("li",null,[e("p",null,[l("描述：微前端是否启用 "),Oe,l(" 模式，配置为 "),Ge,l(" 时切换子应用并不会执行子应用 "),Ke,l(" 生命周期函数，子应用不会卸载，挂载 "),We,l(" 会隐藏，在这种模式下 "),o(n,{to:"/guide/intro.html#%E9%9A%94%E7%A6%BB%E6%B2%99%E7%AE%B1"},{default:t(()=>[l("隔离沙箱")]),_:1}),l(" 还是会执行副作用清理，避免子应用之间的污染，由于子应用并未卸载，当下次重新激活子应用时，子应用还能恢复到之前的状态，隔离沙盒也会重新应用副作用，这样就可以做到子系统之间切换页签时使用缓存，页面不刷新。")])])]),Ye,e("ul",null,[He,Ze,$e,e("li",null,[e("p",null,[l("描述：子项目应用名，值为 "),Je,l(),o(n,{to:"/guide/getting-started.html#%E7%94%9F%E6%88%90%E5%AD%90%E9%A1%B9%E7%9B%AE"},{default:t(()=>[l("生成子项目")]),_:1}),l(" 的 "),Qe,l("。")])])]),Xe,e("ul",null,[el,ll,ol,e("li",null,[e("p",null,[l("描述：子应用部署方式, 1：独立端口根路径部署，2：与主应用同一端口子路径部署，参考 "),o(n,{to:"/guide/deploy.html#%E6%A0%B9%E8%B7%AF%E5%BE%84%E9%83%A8%E7%BD%B2"},{default:t(()=>[l("根路径部署")]),_:1}),l(" 和 "),o(n,{to:"/guide/deploy.html#%E5%AD%90%E8%B7%AF%E5%BE%84%E9%83%A8%E7%BD%B2"},{default:t(()=>[l("子路径部署")]),_:1}),l("。")])])]),nl])}const al=a(v,[["render",il],["__file","reference.html.vue"]]);export{al as default};
